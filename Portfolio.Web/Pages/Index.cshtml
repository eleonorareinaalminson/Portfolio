@page
@model IndexModel
@{
    ViewData["Title"] = "Home";
}

<!-- Hero Section -->
<section class="hero" id="home">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 hero-content" data-aos="fade-right">
                <span class="badge bg-primary mb-3 px-3 py-2">.NET Developer Student</span>
                <h1 class="display-4 fw-bold mb-3">Hi, I
                    <a href="#" class="typewrite" data-period="2000" data-type='[ " am Ellie", " am a Developer", " Love to Code", " Build Solutions" ]'>
                        <span class="wrap"></span>
                    </a>
                </h1>
                <p class="lead mb-4">Application development with a focus on .NET technologies.</p>

                <div class="d-flex gap-3">
                    <a href="#contact" class="btn btn-primary px-4 py-2">Contact</a>
                    <a href="~/documents/cv.pdf" class="btn btn-outline-dark px-4 py-2" download>Resume</a>
                </div>

                @if (Model.WeatherData != null)
                {
                    <div class="weather-widget">
                        <i class="bi bi-geo-alt"></i>
                        <span>
                            @Model.WeatherData.City: @Model.WeatherData.Main.Temperature°C
                            @if (Model.WeatherData.Weather.Any())
                            {
                                <img src="https://openweathermap.org/img/wn/@(Model.WeatherData.Weather[0].Icon).png"
                                     alt="@Model.WeatherData.Weather[0].Description"
                                     style="height: 30px; vertical-align: middle;">
                            }
                        </span>
                    </div>
                }
            </div>
            <div class="col-lg-6 text-center" data-aos="fade-left">
                <img src="~/images/profile.jpg" alt="Your Name" class="img-fluid hero-image">
            </div>
        </div>
    </div>

    <div class="container position-absolute bottom-0 start-50 translate-middle-x pb-5">
        <div class="text-center">
            <a href="#about" class="text-dark">
                <i class="bi bi-chevron-down fs-3 animate__animated animate__bounce animate__infinite"></i>
            </a>
        </div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8" data-aos="fade-up">
                <div class="text-center mb-5">
                    <h2 class="display-6 fw-bold mb-4">About Me</h2>
                    <p class="lead">I'm a passionate .NET Developer student with a unique background combining healthcare experience with analytical thinking from IT studies.</p>
                </div>
                
                <div class="text-center mb-4">
                    <p>Currently pursuing my .NET Developer education at KYH Stockholm (2024-2026), I'm driven by creating technical solutions that make a difference in people's everyday lives. My extensive background in psychiatric healthcare has given me valuable experience in system management and digital transformation.</p>
                    
                    <p>As a Development Leader for e-Health at Region Stockholm, I led the implementation of 1177 Healthcare Guide's digital services and coordinated training initiatives. During my time as a nurse with administrative responsibilities, I implemented new routines for digital documentation and trained staff in digital tools.</p>
                    
                    <p>I combine strong problem-solving abilities with an eye for detail, always striving to optimize processes and improve user experiences. When I'm not coding, I'm exploring new technologies and finding ways to bridge the gap between healthcare and technology innovation.</p>
                </div>

                <div class="row mt-5">
                    <div class="col-md-4 text-center mb-4">
                        <h5 class="fw-bold">Education</h5>
                        <p>.NET Developer<br>KYH Stockholm (2024-2026)</p>
                        <p><small class="text-muted">Specialized in C#, ASP.NET Core, Database Technologies & Web Development</small></p>
                    </div>
                    <div class="col-md-4 text-center mb-4">
                        <h5 class="fw-bold">Experience</h5>
                        <p>Development Leader E-Health<br>Region Stockholm (2018)</p>
                        <p>Nurse & System Administrator<br>Psychiatric Ward (2013-2020)</p>
                        <p><small class="text-muted">Focus on digital transformation & system implementation</small></p>
                    </div>
                    <div class="col-md-4 text-center mb-4">
                        <h5 class="fw-bold">Languages</h5>
                        <p>Fluent in Swedish, English & Russian</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Skills Section -->
<section id="skills" class="skills-section py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-6 fw-bold">Tech Stack</h2>
            <p class="lead">Technologies and tools I work with</p>
        </div>

        <div class="row g-4">
            <div class="col-md-4 col-sm-6" data-aos="fade-up" data-aos-delay="100">
                <div class="skill-item">
                    <div class="skill-icon">
                        <i class="bi bi-code-slash"></i>
                    </div>
                    <h3 class="h5 mb-3">Frontend Development</h3>
                    <p>HTML5, CSS3, JavaScript, React 19, Bootstrap 5, Responsive Design, CSS Grid & Flexbox</p>
                </div>
            </div>

            <div class="col-md-4 col-sm-6" data-aos="fade-up" data-aos-delay="200">
                <div class="skill-item">
                    <div class="skill-icon">
                        <i class="bi bi-server"></i>
                    </div>
                    <h3 class="h5 mb-3">Backend Development</h3>
                    <p>C# .NET 9, ASP.NET Core, Razor Pages, MVC, Web API, RESTful APIs, Entity Framework Core</p>
                </div>
            </div>

            <div class="col-md-4 col-sm-6" data-aos="fade-up" data-aos-delay="300">
                <div class="skill-item">
                    <div class="skill-icon">
                        <i class="bi bi-database"></i>
                    </div>
                    <h3 class="h5 mb-3">Database & Data</h3>
                    <p>SQL Server, T-SQL, Database Design, Entity Framework, Code-First Migrations, CRUD Operations</p>
                </div>
            </div>

            <div class="col-md-4 col-sm-6" data-aos="fade-up" data-aos-delay="400">
                <div class="skill-item">
                    <div class="skill-icon">
                        <i class="bi bi-cloud"></i>
                    </div>
                    <h3 class="h5 mb-3">Cloud & DevOps</h3>
                    <p>Microsoft Azure, Azure App Service, Azure SQL Database, Git, GitHub, CI/CD Pipelines</p>
                </div>
            </div>

            <div class="col-md-4 col-sm-6" data-aos="fade-up" data-aos-delay="500">
                <div class="skill-item">
                    <div class="skill-icon">
                        <i class="bi bi-tools"></i>
                    </div>
                    <h3 class="h5 mb-3">Development Tools</h3>
                    <p>Visual Studio, VS Code, Vite, React Router, Bootstrap Icons, Package Manager, NuGet</p>
                </div>
            </div>

            <div class="col-md-4 col-sm-6" data-aos="fade-up" data-aos-delay="600">
                <div class="skill-item">
                    <div class="skill-icon">
                        <i class="bi bi-graph-up"></i>
                    </div>
                    <h3 class="h5 mb-3">Professional Skills</h3>
                    <p>System Analysis, Digital Transformation, Project Leadership, Healthcare IT, Process Optimization</p>
                </div>
            </div>
        </div>

        <!-- Current Focus & Learning -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="text-center mb-4" data-aos="fade-up">
                    <h3 class="h4 fw-bold">Current Focus & Experience</h3>
                    <p class="text-muted">Technologies I'm actively working with and learning</p>
                </div>
            </div>
            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="tech-focus-card">
                    <h5 class="fw-bold mb-3">Primary Stack</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>C# & .NET 9</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>ASP.NET Core</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Entity Framework</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>SQL Server</li>
                    </ul>
                </div>
            </div>

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="tech-focus-card">
                    <h5 class="fw-bold mb-3">Frontend Skills</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>React 19 & Vite</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>HTML5 & CSS3</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>JavaScript & Bootstrap</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Responsive Design</li>
                    </ul>
                </div>
            </div>

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="tech-focus-card">
                    <h5 class="fw-bold mb-3">Tools & Platforms</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Visual Studio & VS Code</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Microsoft Azure</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>Git & GitHub</li>
                        <li class="mb-2"><i class="bi bi-arrow-right-circle text-warning me-2"></i>Currently Learning: DevOps</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Projects Section -->
<section id="portfolio" class="py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-6 fw-bold">Projects</h2>
        </div>

        <div class="row g-4" id="projects-container">
            @if (Model.Projects != null && Model.Projects.Any())
            {
                foreach (var project in Model.Projects)
                {
                    <div class="col-lg-4 col-md-6" data-aos="fade-up">
                        <div class="project-card">
                            <img src="@(string.IsNullOrEmpty(project.ImageUrl) ? "/images/project-placeholder.jpg" : project.ImageUrl)"
                                 class="project-image w-100" alt="@project.Name">
                            <div class="project-content">
                                <h3 class="h5 mb-3">@project.Name</h3>
                                <p>@project.Description</p>
                                <div class="project-tech">
                                    @foreach (var tech in project.TechStack.Split(','))
                                    {
                                        <span>@tech.Trim()</span>
                                    }
                                </div>
                                <div class="project-buttons">
                                    @if (!string.IsNullOrEmpty(project.ProjectUrl))
                                    {
                                        <a href="@project.ProjectUrl" class="btn btn-sm btn-primary" target="_blank">
                                            <i class="bi bi-link-45deg me-1"></i> Demo
                                        </a>
                                    }
                                    @if (!string.IsNullOrEmpty(project.GithubUrl))
                                    {
                                        <a href="@project.GithubUrl" class="btn btn-sm btn-outline-dark" target="_blank">
                                            <i class="bi bi-github me-1"></i> Code
                                        </a>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-3">Loading projects...</p>
                </div>
            }
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section id="testimonials" class="testimonial-section py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-6 fw-bold">Testimonials</h2>
        </div>

        <div class="row g-4">
            <div class="col-md-6" data-aos="fade-up" data-aos-delay="100">
                <div class="testimonial-card">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://via.placeholder.com/60" alt="John Doe" class="testimonial-image me-3">
                        <div>
                            <h5 class="mb-0">John Doe</h5>
                            <p class="text-muted mb-0">Senior Developer, Company XYZ</p>
                        </div>
                    </div>
                    <p>"[A testimonial describing your work from a colleague or supervisor]"</p>
                </div>
            </div>

            <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
                <div class="testimonial-card">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://via.placeholder.com/60" alt="Jane Smith" class="testimonial-image me-3">
                        <div>
                            <h5 class="mb-0">Jane Smith</h5>
                            <p class="text-muted mb-0">Project Manager, Company ABC</p>
                        </div>
                    </div>
                    <p>"[Another testimonial describing your collaboration and technical skills]"</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-6 fw-bold">Get in touch</h2>
        </div>

        <div class="row g-4">
            <div class="col-lg-5" data-aos="fade-right">
                <div class="contact-info">
                    <h3 class="mb-4">Contact</h3>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-envelope fs-4 me-3"></i>
                        <p class="mb-0">ellialminson@me.com</p>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-telephone fs-4 me-3"></i>
                        <p class="mb-0">+46 70 768 38 21</p>
                    </div>
                    <div class="d-flex align-items-center mb-4">
                        <i class="bi bi-geo-alt fs-4 me-3"></i>
                        <p class="mb-0">Stockholm, Sweden</p>
                    </div>
                    <div class="social-links">
                        <a href="https://github.com/eleonorareinaalminson" target="_blank"><i class="bi bi-github"></i></a>
                        <a href="https://www.linkedin.com/in/eleonora-alminson-688707348" target="_blank"><i class="bi bi-linkedin"></i></a>
                        <a href="https://facebook.com/ellimzi" target="_blank"><i class="bi bi-facebook"></i></a>
                        <a href="https://instagram.com/eleonorareinaalminson" target="_blank"><i class="bi bi-instagram"></i></a>
                        <a href="https://x.com/ealminson" target="_blank"><i class="bi bi-twitter-x"></i></a>
                    </div>
                </div>
            </div>

            <div class="col-lg-7" data-aos="fade-left">
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="name" class="form-label">Name</label>
                                    <input type="text" class="form-control" id="name" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="subject" class="form-label">Subject</label>
                                    <input type="text" class="form-control" id="subject" required>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label for="message" class="form-label">Message</label>
                                    <textarea class="form-control" id="message" rows="5" required></textarea>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary px-4 py-2">
                                    <i class="bi bi-send me-2"></i> Send Message
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Contact form functionality
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.innerHTML;

            // Visa loading state
            submitButton.innerHTML = '<i class="bi bi-hourglass-split me-2"></i> Skickar...';
            submitButton.disabled = true;

            // Hämta formulärdata
            const formData = {
                name: document.getElementById('name').value.trim(),
                email: document.getElementById('email').value.trim(),
                subject: document.getElementById('subject').value.trim(),
                message: document.getElementById('message').value.trim()
            };

            // Enkel validering
            if (!formData.name || !formData.email || !formData.subject || !formData.message) {
                alert('Vänligen fyll i alla fält!');
                submitButton.innerHTML = originalText;
                submitButton.disabled = false;
                return;
            }

            try {
                const response = await fetch('/api/contact/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                if (response.ok) {
                    alert('Tack för ditt meddelande! Jag återkommer så snart som möjligt.');
                    this.reset(); // Rensa formuläret
                } else {
                    alert(result.message || 'Ett fel uppstod när meddelandet skulle skickas. Försök igen senare.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Ett fel uppstod när meddelandet skulle skickas. Kontrollera din internetanslutning och försök igen.');
            } finally {
                // Återställ knappen
                submitButton.innerHTML = originalText;
                submitButton.disabled = false;
            }
        });
    </script>
    <script>
        // Typewriter-effekt JavaScript
        var TxtType = function(el, toRotate, period) {
            this.toRotate = toRotate;
            this.el = el;
            this.loopNum = 0;
            this.period = parseInt(period, 10) || 2000;
            this.txt = '';
            this.tick();
            this.isDeleting = false;
        };

        TxtType.prototype.tick = function() {
            var i = this.loopNum % this.toRotate.length;
            var fullTxt = this.toRotate[i];

            if (this.isDeleting) {
                this.txt = fullTxt.substring(0, this.txt.length - 1);
            } else {
                this.txt = fullTxt.substring(0, this.txt.length + 1);
            }

            this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';

            var that = this;
            var delta = 200 - Math.random() * 100;

            if (this.isDeleting) { delta /= 2; }

            if (!this.isDeleting && this.txt === fullTxt) {
                delta = this.period;
                this.isDeleting = true;
            } else if (this.isDeleting && this.txt === '') {
                this.isDeleting = false;
                this.loopNum++;
                delta = 500;
            }

            setTimeout(function() {
                that.tick();
            }, delta);
        };

        // Initiera typewriter
        document.addEventListener('DOMContentLoaded', function() {
            var elements = document.getElementsByClassName('typewrite');
            for (var i=0; i<elements.length; i++) {
                var toRotate = elements[i].getAttribute('data-type');
                var period = elements[i].getAttribute('data-period');
                if (toRotate) {
                  new TxtType(elements[i], JSON.parse(toRotate), period);
                }
            }
        });
    </script>
}